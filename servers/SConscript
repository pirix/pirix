Import("target")

env = target.Clone(
    LIBS="pirix",
    LIBPATH=["#build/$ARCH/lib"],
)

env.Append(
    CFLAGS=["-Wall", "-fno-stack-protector"],
    LINKFLAGS=["-T", "servers/link.ld"],
)

vfs = env.Program("vfs/vfs", env.Glob("vfs/*.c"))
login = env.Program("login/login", env.Glob("login/*.c"))
